<section>
  <div class="container">
    <div class="row">
      <div class="col-md-6 mx-auto">
        <h3>สมัครสมาชิก</h3>

        <form #myForm="ngForm" class="needs-validation" novalidate>
          <div class="form-group">
            <label for="exampleFormControlSelect1">เลือกจังหวัด</label>
            <select [(ngModel)]="user1.provinceId" #province="ngModel" ngModel name="province" class="form-control" id="exampleFormControlSelect1" required>
              <option value="" selected disabled>--กรุณาเลือกจังหวัด--</option>
              <option *ngFor="let p of user.province" [value]="p.id">{{p.name}}</option>
            </select>
            <div *ngIf="province.invalid && (province.dirty || province.touched)" class="alert alert-danger">
              <span>กรุณาเลือกจังหวัด</span>
            </div>
          </div>
          <div class="form-group">
            <label for="exampleFormControlInput1">ชื่อ-สกุล</label>
            <input [ngClass]="{ 'is-invalid':fullname.invalid && (fullname.dirty || fullname.touched) }" #fullname="ngModel" ngModel name="fullname" type="email" class="form-control" id="exampleFormControlInput1" required>
            <div class="invalid-feedback">
              Please provide a valid name.
            </div>
          </div>

          <div class="form-group">
            <label for="exampleFormControlInput2">Email address</label>
            <input [ngClass]="{ 'is-invalid':email.invalid && (email.dirty || email.touched) }" #email="ngModel" ngModel name="email" type="email" class="form-control" id="exampleFormControlInput2" required pattern="[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$">
            <div class="invalid-feedback">
              <span *ngIf="email.hasError('required')">Please provide a valid email.</span>
              <span *ngIf="email.hasError('pattern')">Please provide a email.</span>
            </div>
          </div>

          <div class="form-group">
            <label for="exampleInputPassword1">Password</label>
            <input  [ngClass]="{ 'is-invalid':password.invalid && (password.dirty || password.touched) }" #password="ngModel" ngModel name="password" type="password" class="form-control" id="exampleInputPassword1" required minlength="3">
            <div class="invalid-feedback">
              <span *ngIf="password.hasError('required')">Please provide a valid password.</span>
              <span *ngIf="password.hasError('minlength')">min = 3.</span>
            </div>
          </div>

          <button [disabled]="myForm.invalid" type="submit" class="btn btn-primary" (click)="register(myForm.value)">Submit</button>


        </form>
        {{myForm.value | json}}
      </div>
    </div>
  </div>
</section>
